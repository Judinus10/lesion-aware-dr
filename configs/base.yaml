project_name: "lesion_aware_dr"
run_name: "baseline_efficientnet"

paths:
  data_dir: "data"
  raw_dir: "data/raw"
  processed_dir: "data/processed"
  outputs_dir: "outputs"
  checkpoints_dir: "outputs/checkpoints"

model:
  backbone: "efficientnet_b0"
  num_classes: 5
  pretrained: true

data:
  use_dummy: false
  image_size: 224

  # Dataset paths
  train_csv: "/content/drive/MyDrive/Lesion_aware_DR/eyepacs/train.csv"
  val_csv:   "/content/drive/MyDrive/Lesion_aware_DR/eyepacs/val_clean.csv"   # IMPORTANT
  image_dir: "/content/eyepacs_images/Images"
  image_col: "image_id"
  label_col: "label"

  # NEW: handle class imbalance at sampling level
  use_weighted_sampler: true
  sampler_mode: "inverse"   # currently only inverse is used

training:
  seed: 42
  epochs: 10
  batch_size: 8
  num_workers: 2
  lr: 1e-4
  weight_decay: 1e-5
  optimizer: "adamw"
  scheduler: "cosine"

logging:
  use_wandb: false
  wandb_project: "lesion_aware_dr"
  wandb_entity: null

loss:
  # Options: "ce" or "focal"
  name: "ce"

  # NEW: actually applies weights now (with updated classifier.py / train.py)
  use_class_weights: true

  # NEW: choose how weights are computed
  # "inverse"  -> 1 / class_count
  # "effective" -> class-balanced effective number of samples (usually better)
  weight_mode: "effective"
  beta: 0.9999

  # Only used if name="focal"
  gamma: 2.0
